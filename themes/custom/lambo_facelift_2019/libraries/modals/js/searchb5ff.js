"use strict";!function(i){var e=i(".search-toggler"),r=i("#site-search").find(".search-bar"),n=r.find("button"),a=r.find("input"),l=i("#site-search").find(".search-results");e.click(function(){l.find(".results").html(""),a.val(""),l.css({height:0})}),n.click(function(e){var s=n.data("service-url"),t=a.val();t&&""!=t&&(r.addClass("searching"),n.attr("disabled",!0),i.get(s+t).done(function(e){if(e.results&&0<e.results.length){var s="";e.results.forEach(function(e){e.title&&(s+='<li><a href="'+e.url+'" class="d-flex align-items-center"><span class="flex-grow-1">'+e.title+'</span><span class="icon-arrow-next"></span></a></li>')}),l.find(".results").html("<ul>"+s+"</ul>")}else l.find(".results").html("");var t=l.find(".wrapper").outerHeight();l.css({height:t})}).fail(function(e,s){console.error(e,s),l.css({height:0})}).always(function(){n.attr("disabled",!1),r.removeClass("searching")}))}),a.keyup(function(e){13==e.which&&n.trigger("click")}),i(window).resize(function(){var e=l.find(".wrapper").outerHeight();l.css({height:e})})}(jQuery);