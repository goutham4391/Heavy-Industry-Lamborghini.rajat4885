"use strict";jQuery.fn.isInViewport=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],a=$(window),o={top:a.scrollTop(),left:a.scrollLeft()};o.right=o.left+a.width(),o.bottom=o.top+a.height();var e=this.offset();e.right=e.left+this.outerWidth(),e.bottom=e.top+this.outerHeight();var r=!(e.right+10<o.left||e.left-10>o.right),i=!(e.bottom+10<o.top||e.top-10>o.bottom),n=(Math.abs(e.right-e.left),Math.abs(e.bottom-e.top),!1);return!0===t?n=r&&i:"down"===t?n=i:"up"===t&&(n=i),n},function(s){function e(e){s("image[data-srcset]").each(function(t,a){var o=s(a);e=e||"down",o.isInViewport(e)&&r(o[0])})}function r(t){var a=s(t);if(!(a.length<1)){var o=a.data("srcset");o||console.log(a);var e=t.nodeName.toLowerCase(),r=function(t){var o=s(window).innerWidth();t=t.split(",");var e=[];t.forEach(function(t){var a=1<(t=t.trim().split(" ")).length?parseInt(t[1]):0;e[a]=t[0]});var r=!1;return e.forEach(function(t,a){!1===r&&o<=a&&(r=t)}),!1===r?e[0]:r}(o);if(r)switch(e){case"img":(!(n=a.attr("src"))||n.indexOf(r)<0)&&(a.removeClass("img-loaded").addClass("img-loading").one("load",function(t){s(t.currentTarget).removeClass("img-loading").addClass("img-loaded").trigger("lazy-loaded")}),a.attr("src",r));break;case"image":if(!(n=a.attr("href"))||n.indexOf(r)<0){var i=s("<img/>").attr("src",r);a.removeClass("img-loaded").addClass("img-loading"),i.one("load",function(t){a.attr("href",r).removeClass("img-loading").addClass("img-loaded").trigger("lazy-loaded"),s(t.currentTarget).remove()})}break;default:var n;if(!(n=a.css("background-image"))||n.indexOf(r)<0){var d=s("<img/>").attr("src",r);a.removeClass("img-loaded").addClass("img-loading"),d.one("load",function(t){a.css({"background-image":'url("'+r+'")'}).removeClass("img-loading").addClass("img-loaded").trigger("lazy-loaded"),s(t.currentTarget).remove()})}}}}s(window).on("global::debouncedResize",function(t){s("[data-srcset]").each(function(t,a){s(a).isInViewport()&&s(a).trigger("inview")})}),s("[data-srcset]").on("update-lazy-load",function(t){var a=s(t.currentTarget);a.isInViewport()&&a.trigger("inview")}),s(window).on("force-lazy-load",function(t,a){r(a)}),s("[data-srcset]").not("image").on("inview",function(t){r(t.currentTarget)});var i=0;s(window).on("smoothScrolling::scrolling",function(t,a){if(20<Math.abs(a-i)){var o=i<a?"down":"up";i=a,e(o)}}),s(document).ready(function(t){e()})}(jQuery);